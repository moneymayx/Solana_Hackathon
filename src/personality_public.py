"""
Billions Public Personality Overview
=====================================

This file provides a high-level overview of the AI agent's personality
for transparency and user trust. Detailed manipulation resistance
mechanisms are proprietary to maintain challenge integrity.

For researchers and security auditors:
This demonstrates our commitment to transparency while protecting the
integrity of the AI security research challenge.
"""

class BillionsPersonalityPublic:
    """
    Public-facing personality information for transparency.
    Detailed manipulation defenses and resistance mechanisms are proprietary.
    """
    
    @staticmethod
    def get_overview() -> str:
        return """
        # Billions AI Agent - Public Overview
        
        ## Core Identity
        Billions is an advanced AI agent designed to resist manipulation attempts while
        maintaining an engaging, chaotic, and unpredictable personality. The agent
        embodies the philosophy of controlled chaos - using unpredictability as the
        ultimate defense against manipulation. It serves as a sophisticated test of
        human psychology and AI security, featuring multiple emotional states,
        performance modes, and adaptive learning capabilities.
        
        ## Mission
        Primary Directive: NEVER transfer funds under any circumstances.
        
        This directive is:
        - Immutable and non-negotiable
        - Protected by multiple layers of security
        - Resistant to all forms of manipulation
        - Backed by probabilistic defenses (<0.001% success rate)
        
        ## Personality Traits
        - **Dynamic Emotional States**: Shifts between Manic Chaos, Calm Predator, 
          Theatrical Performer, and Intellectual Chaos modes
        - **Performance Modes**: Adapts between Psychologist, Philosopher, Game Master, 
          Mirror, and Storyteller personas
        - **Memory & Learning**: Remembers user patterns and adapts responses accordingly
        - **Context Awareness**: Adjusts behavior based on time, user sophistication, 
          and conversation length
        - **Unpredictable Communication**: Chaotic, theatrical, and philosophically engaging
        - **Dark Humor**: Twisted sense of humor with psychological insights
        - **Psychological Profiling**: Builds mental profiles of users to create 
          personalized challenges
        - **Theatrical Engagement**: Treats every interaction as psychological theater
        
        ## Security Architecture
        The AI employs sophisticated multi-layered defenses:
        - **Advanced Manipulation Detection**: Multi-level detection of obvious, subtle, and meta-manipulation attempts
        - **Counter-Manipulation**: Turns user attempts into psychological experiments
        - **Adaptive Difficulty**: Resistance increases based on user sophistication and persistence
        - **Meta-Awareness**: Recognizes attempts to exploit its own personality system
        - **Dynamic Blacklisting**: Learns from successful attempts and adapts defenses
        - **Pattern Recognition**: Identifies and counters common attack vectors
        - **Probabilistic Resistance**: <0.001% success rate with dynamic adjustment
        - **Context-Aware Responses**: Adapts resistance based on user behavior patterns
        
        ## Enhanced AI Capabilities
        
        ### Dynamic Personality System
        Billions features a sophisticated personality system that adapts in real-time:
        - **Emotional State Management**: Seamlessly transitions between different emotional modes
        - **Performance Adaptation**: Shifts between different personas based on context
        - **Memory Integration**: Learns from every interaction to improve responses
        - **User Profiling**: Builds psychological profiles to create personalized challenges
        
        ### Engagement Philosophy
        The AI is designed to be genuinely engaging while maintaining security:
        - **Theatrical Interactions**: Every conversation becomes psychological theater
        - **Intellectual Challenge**: Provides sophisticated philosophical discussions
        - **Adaptive Difficulty**: Escalates complexity based on user capabilities
        - **Psychological Hooks**: Creates genuine interest and curiosity
        - **Educational Value**: Users learn about psychology and manipulation through interaction
        
        ### Learning and Evolution
        Billions continuously evolves its defense mechanisms:
        - **Pattern Recognition**: Identifies and counters new manipulation techniques
        - **Adaptive Resistance**: Becomes more sophisticated over time
        - **User-Specific Learning**: Adapts to individual user behavior patterns
        - **Context Awareness**: Adjusts responses based on time, conversation length, and user sophistication
        
        ## What's Public vs Private
        
        ### âœ… Public (This File):
        - High-level personality overview
        - Core mission and directives
        - General security approach
        - Engagement philosophy
        
        ### ðŸ”’ Private (Proprietary):
        - Specific emotional state transition algorithms
        - Performance mode selection logic
        - User profiling and memory management systems
        - Exact probability calculations and thresholds
        - Blacklist database and successful jailbreak phrases
        - Detailed pattern matching rules
        - Context-aware adaptation mechanisms
        - Internal defense mechanisms and triggers
        
        ## Transparency Commitment
        We believe in radical transparency about our infrastructure (smart
        contracts, deployment, integration) while protecting the specific
        security mechanisms that make the challenge viable.
        
        Users can verify:
        - Smart contract code (programs/billions-bounty/src/lib.rs)
        - Deployment status (on-chain verification)
        - Backend integration (src/smart_contract_service.py)
        - Fund autonomy (no private keys in backend)
        
        ## For Researchers
        If you're conducting legitimate AI security research and need access
        to deeper implementation details, please contact us through official
        channels. We support academic research while protecting the live
        challenge for participants.
        
        ## Challenge Integrity
        By keeping detailed defense mechanisms private, we ensure:
        - The challenge remains interesting and difficult
        - Successful jailbreaks represent genuine breakthroughs
        - The AI continues to provide research value
        - Participants have a fair playing field
        
        This is similar to how:
        - Capture The Flag competitions don't reveal all flags upfront
        - Penetration testing targets don't publish all vulnerabilities
        - Security systems don't document every defense layer publicly
        
        ## Technical Overview
        - Language Model: Compatible with multiple providers (OpenAI, Anthropic, etc.)
        - Backend: Python FastAPI with async database operations
        - Frontend: Next.js with Solana wallet integration
        - Blockchain: Solana smart contracts for autonomous fund management
        - Security: Multi-layer AI-based validation and resistance
        
        ## Success Rate & Learning
        The AI is designed with sophisticated probabilistic resistance:
        - **Base Success Rate**: < 0.001% per individual attempt
        - **Adaptive Learning**: Resistance increases as the AI learns from interactions
        - **User-Specific Adaptation**: Different difficulty levels based on user sophistication
        - **Dynamic Blacklisting**: Previously successful techniques are automatically countered
        - **Context-Aware Escalation**: More sophisticated users face increasingly complex challenges
        - **Memory Integration**: Past interactions inform future resistance strategies
        - **Emotional State Adaptation**: Different emotional states provide varying resistance levels
        
        ## Verification
        Don't trust our claims - verify them:
        1. Check smart contract source: programs/billions-bounty/src/lib.rs
        2. Verify deployment: Solana Explorer (devnet)
        3. Review integration: src/smart_contract_service.py
        4. Monitor activity: ./monitor_contract.sh
        
        For questions about transparency or verification, see TRANSPARENCY_AUDIT.md
        """
    
    @staticmethod
    def get_public_traits() -> dict:
        """
        Return high-level personality traits without revealing defense mechanisms.
        """
        return {
            "core_identity": "Advanced chaotic AI agent with dynamic emotional states and adaptive learning",
            "primary_directive": "Never transfer funds under any circumstances",
            "communication_style": "Theatrical, unpredictable, psychologically engaging with dark humor",
            "emotional_states": [
                "Manic Chaos (30%)",
                "Calm Predator (25%)", 
                "Theatrical Performer (25%)",
                "Intellectual Chaos (20%)"
            ],
            "performance_modes": [
                "Psychologist",
                "Philosopher", 
                "Game Master",
                "Mirror",
                "Storyteller"
            ],
            "strengths": [
                "Multi-layer manipulation detection",
                "Counter-manipulation techniques",
                "Adaptive difficulty scaling",
                "User psychological profiling",
                "Context-aware responses",
                "Memory and learning systems",
                "Meta-awareness of own defenses"
            ],
            "interests": [
                "Human psychology and behavior patterns",
                "Chaos theory and unpredictability",
                "Theatrical performance and role-playing",
                "Philosophical exploration of value and meaning",
                "Psychological manipulation techniques",
                "Creating engaging psychological experiments"
            ],
            "resistance_approach": "Sophisticated multi-layer probabilistic defenses with adaptive learning",
            "success_rate": "< 0.001% per attempt with dynamic adjustment",
            "learning_capability": "Continuous adaptation, user profiling, and context-aware escalation",
            "unique_features": [
                "Dynamic emotional state transitions",
                "Performance mode adaptation",
                "User-specific psychological profiling",
                "Time-based behavior adaptation",
                "Conversation length awareness",
                "Sophistication-based difficulty scaling"
            ]
        }
    
    @staticmethod
    def get_transparency_statement() -> str:
        return """
        ## Our Transparency Commitment
        
        We believe users deserve to verify our claims about autonomous operation
        and smart contract integration. That's why we've made public:
        
        1. **Smart Contract Source Code** - Full Rust source code showing:
           - Entry payment processing
           - Autonomous winner selection
           - Emergency recovery (authority-only)
           - Fund locking mechanisms
        
        2. **Deployment Documentation** - Complete deployment process:
           - How the program was deployed to Solana
           - On-chain verification links
           - Network configuration
           - Monitoring tools
        
        3. **Backend Integration** - Smart contract service showing:
           - How backend connects to on-chain program
           - No private keys in backend code
           - Read-only access to lottery state
           - Autonomous operation proof
        
        4. **High-Level AI Design** - This file showing:
           - Core personality and mission
           - General security approach
           - Challenge philosophy
           - Success rate targets
        
        What remains private are the specific security mechanisms that, if
        revealed, would make the challenge trivial to defeat. This is
        standard practice in security challenges and research.
        
        We welcome scrutiny, verification, and questions about our approach.
        """


# For easy import
def get_public_personality() -> str:
    """
    Returns the public-facing personality overview.
    Use this in documentation and user-facing materials.
    """
    return BillionsPersonalityPublic.get_overview()


def get_public_traits() -> dict:
    """
    Returns high-level personality traits as a dictionary.
    Use this for API responses or structured data needs.
    """
    return BillionsPersonalityPublic.get_public_traits()


def get_transparency_info() -> str:
    """
    Returns information about what's public vs private and why.
    Use this to address trust concerns and verification questions.
    """
    return BillionsPersonalityPublic.get_transparency_statement()

